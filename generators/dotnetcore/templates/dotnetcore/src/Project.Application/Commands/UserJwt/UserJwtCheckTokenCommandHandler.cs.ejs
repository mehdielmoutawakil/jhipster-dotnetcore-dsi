using MediatR;
using System.Threading;
using System.Threading.Tasks;
using System.Security.Principal;
using <%= namespace %>.Dto;
using <%= namespace %>.Domain.Services.Interfaces;
using <%= namespace %>.Domain.Services;

namespace <%= namespace %>.Application.Commands;

public class UserJwtCheckTokenCommandHandler : IRequestHandler<UserJwtCheckTokenCommand, UserDetailDto>
{
    private readonly UserService _userService;

    public UserJwtCheckTokenCommandHandler(UserService userService)
    {
        _userService = userService;
    }

    public Task<UserDetailDto> Handle(UserJwtCheckTokenCommand command, CancellationToken cancellationToken)
    {
        return _userService.GetConnectedUser();
    }
}
